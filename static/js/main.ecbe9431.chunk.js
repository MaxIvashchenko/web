(this.webpackJsonpmyreact=this.webpackJsonpmyreact||[]).push([[0],{26:function(e,t,a){},39:function(e,t,a){e.exports=a(80)},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(35),o=a.n(s),i=(a(44),a(45),a(5)),l=a(6),c=a(8),u=a(7),m=a(9);a(46);function d(e){var t=["menuToggle","fa"];return e.isOpen?(t.push("fa-times"),t.push("open")):t.push("fa-bars"),r.a.createElement("i",{className:t.join(" "),onClick:e.onToggle})}a(47),a(48);function v(e){var t=e.onClose;return r.a.createElement("div",{className:"backdrop",onClick:t})}var h=a(12),p=[{to:"/",label:"\u0421\u043f\u0438\u0441\u043e\u043a",exact:!0},{to:"/auth",label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",exact:!1},{to:"/quiz-creator",label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442",exact:!1}],f=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).clickHandler=function(){a.props.onClose()},a.renderLinks=function(){return p.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(h.c,{to:e.to,exact:e.exact,activeClassName:"active",onClick:a.clickHandler},e.label))}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=["drawer"];return this.props.isOpen||e.push("close"),r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:e.join(" ")},r.a.createElement("ul",null,this.renderLinks())),this.props.isOpen?r.a.createElement(v,{onClose:this.props.onClose}):null)}}]),t}(r.a.Component),g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={menu:!1},a.toggleMenuHandler=function(){a.setState({menu:!a.state.menu})},a.menuCloseHandler=function(){a.setState({menu:!1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"layout"},r.a.createElement(f,{isOpen:this.state.menu,onClose:this.menuCloseHandler}),r.a.createElement(d,{onToggle:this.toggleMenuHandler,isOpen:this.state.menu}),r.a.createElement("main",null,this.props.children))}}]),t}(r.a.Component),b=a(15),E=a(2),w=a.n(E),C=a(13),y=a(18),k=(a(54),a(26),function(e){var t=["answerItem"];return e.state&&t.push(e.state),r.a.createElement("li",{className:t.join(" "),onClick:function(){return e.onAnswerClick(e.answer.id)}},e.answer.text)});function j(e){return r.a.createElement("ul",{className:"answersList"},e.answers.map((function(t,a){return r.a.createElement(k,{key:a,answer:t,onAnswerClick:e.onAnswerClick,state:e.state?e.state[t.id]:null})})))}function O(e){return r.a.createElement("div",{className:"activeQuiz"},r.a.createElement("p",{className:"question"},r.a.createElement("span",null,r.a.createElement("strong",null,e.answerNumber,". "),e.question),r.a.createElement("small",null,e.answerNumber," \u0438\u0437 ",e.quizLength)),r.a.createElement(j,{state:e.state,answers:e.answers,onAnswerClick:e.onAnswerClick}))}a(55),a(56);function q(e){var t=["button",e.type];return r.a.createElement("button",{onClick:e.onClick,className:t.join(" "),disabled:e.disabled},e.children)}function z(e){var t=e.results,a=e.quiz,n=e.onRetry,s=Object.keys(t).reduce((function(e,a){return"success"===t[a]&&e++,e}),0);return r.a.createElement("div",{className:"finishedQuiz"},r.a.createElement("ul",null,a.map((function(e,a){var n=["fa"];return"error"===t[a]?n.push("fa-times errorFa"):n.push("fa-check successFa"),r.a.createElement("li",{key:a},r.a.createElement("strong",null,a+1,". "),e.question,r.a.createElement("i",{className:n.join(" ")}))}))),r.a.createElement("p",null,"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e: ",s," of ",a.length),r.a.createElement("div",null,r.a.createElement(q,{onClick:n,type:"primary"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"),r.a.createElement(h.b,{to:"/"},r.a.createElement(q,{type:"successBtn"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432"))))}var x=a(19),S=a.n(x),Q=S.a.create({baseURL:"https://react-quiz-bfeda.firebaseio.com/"});a(74);function H(e){return r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"lds-ripple "},r.a.createElement("div",null,"            "),r.a.createElement("div",null,"            ")))}var N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"Quiz test ?",results:{},isFinished:!1,activeQuestion:0,answerState:null,quiz:[],loading:!0},a.onAnswerClickHandler=function(e){if(!a.state.answerState||"success"!==a.state.answerState[e]){var t=a.state.quiz[a.state.activeQuestion],n=a.state.results;if(t.rightAnswerId===e){n[a.state.activeQuestion]||(n[a.state.activeQuestion]="success"),a.setState({answerState:Object(y.a)({},e,"success"),results:n});var r=window.setTimeout((function(){a.isQuizFinished()?a.setState({isFinished:!0}):a.setState({activeQuestion:a.state.activeQuestion+1,answerState:null}),window.clearTimeout(r)}),1e3)}else{if(n[a.state.activeQuestion])return;n[a.state.activeQuestion]="error",a.setState({answerState:Object(y.a)({},e,"error"),results:n})}}},a.retryHandler=function(){a.setState({results:{},isFinished:!1,activeQuestion:0,answerState:null})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"isQuizFinished",value:function(){return this.state.activeQuestion+1===this.state.quiz.length}},{key:"componentDidMount",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("quiz id = ",this.props.match.params.id),e.prev=1,e.next=4,Q.get("/quizes/".concat(this.props.match.params.id,".json"));case 4:t=e.sent,a=t.data,this.setState({quiz:a,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"quiz"},r.a.createElement("div",{className:"quizWrapper"},r.a.createElement("h1",null,this.state.title),this.state.loading?r.a.createElement(H,null):this.state.isFinished?r.a.createElement(z,{results:this.state.results,quiz:this.state.quiz,onRetry:this.retryHandler}):r.a.createElement(O,{answers:this.state.quiz[this.state.activeQuestion].answers,question:this.state.quiz[this.state.activeQuestion].question,onAnswerClick:this.onAnswerClickHandler,quizLength:this.state.quiz.length,answerNumber:this.state.activeQuestion+1,state:this.state.answerState})))}}]),t}(r.a.Component),A=(a(75),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={quizes:[],loading:!0},a.renderQuizes=function(){return a.state.quizes.map((function(e,t){return console.log(e),r.a.createElement("li",{key:e.id},r.a.createElement(h.c,{to:"/quiz/"+e.id},e.name))}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.get("/quizes.json");case 3:t=e.sent,a=[],Object.keys(t.data).forEach((function(e,t){a.push({id:e,name:"\u0422\u0435\u0441\u0442 \u2116".concat(t+1)})})),this.setState({quizes:a,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"quizList"},r.a.createElement("div",null,r.a.createElement("h1",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432"),this.state.loading?r.a.createElement(H,null):r.a.createElement("ul",null,this.renderQuizes())))}}]),t}(n.Component)),F=a(14);a(76),a(77);function I(e){var t=e.valid,a=e.touched,n=e.shouldValidate;return!t&&a&&n}function M(e){var t=e.type||"text",a=["input"],n="".concat(t,"-").concat(Math.random(0,5));return I(e)&&a.push("invalid"),r.a.createElement("div",{className:a.join(" ")},r.a.createElement("label",{htmlFor:n},e.label),r.a.createElement("input",{type:t,id:n,value:e.value,onChange:e.onChange}),I(e)?r.a.createElement("span",null,e.errorMessage||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"):null)}var V=a(38),L=a.n(V),D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email !",valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u041f\u0430\u0440\u043e\u043b\u044c !",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}},a.registerHandler=Object(C.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:a.state.formControls.email.value,password:a.state.formControls.password.value,returnSecureToken:!0},e.prev=1,e.next=4,S.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBtl51uvOgr_R-GSjlj9puKtasevDRqoiQ",t);case 4:n=e.sent,console.log(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),a.loginHandler=Object(C.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:a.state.formControls.email.value,password:a.state.formControls.password.value,returnSecureToken:!0},e.prev=1,e.next=4,S.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBtl51uvOgr_R-GSjlj9puKtasevDRqoiQ",t);case 4:n=e.sent,console.log(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),a.submitHandler=function(e){return e.preventDefault()},a.validateControl=function(e,t){if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),t.email&&(a=L.a.email(e)&&a),t.minLength&&(a=e.length>=t.minLength&&a),a},a.onChangeHandler=function(e,t){var n=Object(F.a)({},a.state.formControls),r=Object(F.a)({},n[t]);r.value=e.target.value,r.touched=!0,r.valid=a.validateControl(r.value,r.validation),n[t]=r;var s=!1;Object.keys(n).reduce((function(e,t){return e.push(n[t].valid),e}),[]).every((function(e){return!0===e}))&&(s=!0),a.setState({formControls:n,isFormValid:s})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,a){var n=e.state.formControls[t];return r.a.createElement(M,{key:t+a,type:n.type,value:n.value,valid:n.valid,touched:n.touched,label:n.label,shouldValidate:!!n.validation,errorMessage:n.errorMessage,onChange:function(a){return e.onChangeHandler(a,t)}})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"auth"},r.a.createElement("div",null,r.a.createElement("h1",null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement("form",{className:"authForm",action:"",onSubmit:this.submitHandler},this.renderInputs(),r.a.createElement(q,{type:"success",onClick:this.loginHandler,disabled:!this.state.isFormValid},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(q,{type:"primary",onClick:this.registerHandler,disabled:!this.state.isFormValid},"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))}}]),t}(r.a.Component);a(78);function R(e,t){return Object(F.a)({},e,{validation:t,valid:!t,touched:!1,value:""})}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),a}function B(e){var t=!0;for(var a in e)e.hasOwnProperty(a)&&(t=e[a].valid&&t);return t}a(79);function W(e){var t="".concat(e.label,"-").concat(Math.random(5));return r.a.createElement("div",{className:"select"},r.a.createElement("label",{htmlFor:t}),r.a.createElement("select",{id:t,value:e.value,onChange:e.onChange},e.options.map((function(e,t){return r.a.createElement("option",{value:e.value,key:e.value+t},e.text)}))))}function G(e){return R({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 ".concat(e),errorMessage:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",id:e},{required:!0})}function J(){return{question:R({label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441",errorMessage:"\u0412\u043e\u043f\u0440\u043e\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},{required:!0}),option1:G(1),option2:G(2),option3:G(3),option4:G(4)}}var K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={quiz:[],isFormValid:!1,rightAnswerId:1,formControls:J()},a.changeHandler=function(e,t){var n=Object(F.a)({},a.state.formControls),r=Object(F.a)({},n[t]);r.touched=!0,r.value=e,r.valid=T(r.value,r.validation),n[t]=r,a.setState({formControls:n,isFormValid:B(n)})},a.renderControls=function(){return Object.keys(a.state.formControls).map((function(e,t){var n=a.state.formControls[e];return r.a.createElement(r.a.Fragment,{key:e+t},r.a.createElement(M,{label:n.label,value:n.value,valid:n.valid,shouldValidate:!!n.validation,touched:n.touched,errorMessage:n.errorMessage,onChange:function(t){return a.changeHandler(t.target.value,e)}}),0===t?r.a.createElement("hr",null):null)}))},a.addQuestionHandler=function(e){e.preventDefault();var t=a.state.quiz.concat(),n=t.length+1,r={question:a.state.formControls.question.value,id:n,rightAnswerId:a.state.rightAnswerId,answers:[{text:a.state.formControls.option1.value,id:a.state.formControls.option1.id},{text:a.state.formControls.option2.value,id:a.state.formControls.option2.id},{text:a.state.formControls.option3.value,id:a.state.formControls.option3.id},{text:a.state.formControls.option4.value,id:a.state.formControls.option4.id}]};t.push(r),a.setState({quiz:t,isFormValid:!1,rightAnswerId:1,formControls:J()})},a.createQuizHandler=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Q.post("/quizes.json",a.state.quiz);case 4:a.setState({quiz:[],isFormValid:!1,rightAnswerId:1,formControls:J()}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),a.selectChangeHandler=function(e){a.setState({rightAnswerId:+e.target.value})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=r.a.createElement(W,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442",value:this.state.rightAnswerId,onChange:this.selectChangeHandler,options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]});return r.a.createElement("div",{className:"quizCreator"},r.a.createElement("div",null,r.a.createElement("h1",null,"QuizCreator"),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},this.renderControls(),e,r.a.createElement(q,{type:"primary",onClick:this.addQuestionHandler},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"),r.a.createElement(q,{type:"success",onClick:this.createQuizHandler},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"))))}}]),t}(n.Component);var P=function(){return r.a.createElement(g,null,r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/auth",component:D}),r.a.createElement(b.a,{path:"/quiz-creator",component:K}),r.a.createElement(b.a,{path:"/quiz/:id",component:N}),r.a.createElement(b.a,{path:"/",component:A})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=r.a.createElement(h.a,null,r.a.createElement(P,null));o.a.render(U,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.ecbe9431.chunk.js.map